{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","eventHandler","onChange","PersonForm","props","submitHandler","nameHandler","numberHandler","newName","newNumber","onSubmit","value","type","Persons","filteredPersons","handleDelete","map","person","name","number","onClick","id","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","del","delete","console","log","catch","e","update","oldPerson","newPerson","put","Notification","notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilteredPersons","setNotification","useEffect","personService","event","filter","target","toUpperCase","newFilteredPersons","includes","preventDefault","foundPerson","find","undefined","window","confirm","returnedPerson","setTimeout","concat","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d7f1935.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({eventHandler}) => \r\n  <div> filter shown with <input onChange={eventHandler} /> </div>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  const {submitHandler, nameHandler, numberHandler, newName, newNumber} = props\r\n  return (\r\n    <div>\r\n      <form onSubmit={submitHandler}>\r\n        <div>\r\n          name: <input value={newName} onChange={nameHandler}/>\r\n        </div>\r\n        <div> \r\n          number: <input value={newNumber} onChange={numberHandler} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({filteredPersons, handleDelete}) => (\r\n  <div>\r\n    {filteredPersons.map((person) => \r\n      <p key={person.id}>{person.name} {person.number}<button onClick={() => handleDelete(person)}>delete</button></p>)}\r\n  </div>\r\n)\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = person => {\r\n  const request = axios.delete(`${baseUrl}/${person.id}`)\r\n    .then(() => console.log(\"person deleted is\", person))\r\n    .catch(e => console.log(`${person.name} is already deleted`, e))\r\n  return request\r\n}\r\n\r\nconst update = (oldPerson, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${oldPerson.id}`, newPerson)\r\n    .then(response => response.data)\r\n    .catch(e => console.log(\"update failed\", e))\r\n  return request\r\n}\r\n\r\nconst exportedObject = {getAll, create, del, update}\r\n\r\nexport default exportedObject\r\n","import React from \"react\"\r\n\r\nconst Notification = ({notification}) => {\r\n  console.log(\"the notification is \", notification)\r\n  if (notification.message === '') {\r\n    return null\r\n  }\r\n\r\n  if (notification.type === 'success') {\r\n    return (\r\n      <div className=\"success\">\r\n        {notification.message}\r\n      </div>\r\n    )\r\n  } else if (notification.type === 'fail') {\r\n    return (\r\n      <div className=\"error\">\r\n        {notification.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  \r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filteredPersons, setFilteredPersons ] = useState([])\r\n  const [ notification, setNotification ] = useState({\r\n    message : '',\r\n    type : ''\r\n  })\r\n\r\n  const hook = () => {\r\n    personService.getAll()\r\n      .then(data => {\r\n        console.log(\"response is \", data)\r\n        setPersons(data)\r\n        setFilteredPersons(data)\r\n      })\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  const handleSubmission = (event) => {\r\n    event.preventDefault()\r\n    const foundPerson = persons.find(person => person.name === newName)\r\n    let update = false\r\n    if (foundPerson !== undefined) {\r\n      update = window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)\r\n      if (!update) return\r\n    }\r\n\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    update \r\n    ? personService.update(foundPerson, newPerson)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\r\n        setNewName(\"\")\r\n        setNewNumber(\"\")\r\n      })\r\n      .then(() => {\r\n        setNotification({\r\n          message: `Created person ${newPerson.name} successfully`,\r\n          type:'success'\r\n        })\r\n        setTimeout(() => {\r\n          setNotification({message:'', type:''})\r\n        }, 5000)\r\n      })\r\n      .catch(() => {\r\n        setNotification({\r\n          message: `${newPerson.name} has already been removed from the server`,\r\n          type:'fail'\r\n        })\r\n        setTimeout(() => {\r\n          setNotification({message:'', type:''})\r\n        }, 5000)\r\n      })\r\n    : personService.create(newPerson)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName(\"\")\r\n        setNewNumber(\"\")\r\n      })\r\n      .then(() => {\r\n        setNotification({\r\n          message: `Created person ${newPerson.name} successfully`,\r\n          type:'success'\r\n        })\r\n        setTimeout(() => {\r\n          setNotification({message:'', type:''})\r\n        }, 5000)\r\n      })\r\n      .catch(() => {\r\n        setNotification({\r\n          message: `${newPerson.name} has already been removed from the server`,\r\n          type:'fail'\r\n        })\r\n        setTimeout(() => {\r\n          setNotification({message:'', type:''})\r\n        }, 5000)\r\n      })\r\n  }\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleQueryChange = (event) => {\r\n    const filter = event.target.value.toUpperCase()\r\n    console.log(\"filter is \", filter)\r\n    if (filter === \"\") {\r\n      setFilteredPersons(persons)\r\n      return\r\n    }\r\n    const newFilteredPersons = persons.filter((person) => \r\n      person.name.toUpperCase().includes(filter))\r\n    console.log(\"list of filtered persons\", newFilteredPersons)\r\n    setFilteredPersons(newFilteredPersons)\r\n  }\r\n\r\n  const handleDelete = (person) => {\r\n    const result = window.confirm(`Delete ${person.name}?`)\r\n    if (!result) return\r\n    personService.del(person)\r\n      .then(setPersons(persons.filter(p => p.id !== person.id)))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification} />\r\n      <Filter eventHandler={handleQueryChange} />\r\n      <h2> add a new </h2>\r\n      <PersonForm submitHandler={handleSubmission}\r\n        nameHandler={handleNameChange}\r\n        numberHandler={handleNumberChange}\r\n        newName={newName}\r\n        newNumber={newNumber} />\r\n      <h2>Numbers</h2>\r\n      <Persons filteredPersons={filteredPersons} handleDelete={handleDelete}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}